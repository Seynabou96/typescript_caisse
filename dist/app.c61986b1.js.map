{"version":3,"sources":["src/classes/caisse.ts","src/classes/listeTransactionView.ts","src/classes/nombreDeTransactionsView.ts","src/classes/soldeView.ts","src/classes/transaction.ts","app.ts"],"names":[],"mappings":";;;;;;AKAA,IAAA,QAAA,GAAA,OAAA,CAAA,sBAAA,CAAA;ALKA,ACFA,ACAA,ACAA,ACHA,IJKA,ACFA,ACAA,ACAA,ACHA,MJKA,GGFA,ECHA,SHGA,ACAA;AGFA,ALIA,ACFA,ACAA,ACAA,ACHA,ICCA,sBAAA,GAAA,OAAA,CAAA,oCAAA,CAAA;ALIA,ACFA,ACAA,ACAA,ACHA,YJKA,ACFA,ACAA,ACAA,ACHA;ACEA,ALOI,ACHA,ACAA,ACAA,ACAA,ICJJ,OLOI,ACHA,ACAA,ACAA,ACAA,MJGA,CAAY,EGHZ,ECAA,CJGA,AGHA,ACAY,EJGc,CIH1B,EAAuB,ECJ3B,CJII,ACAA,EGJJ,CJII,ACAA,CEAA,EAAwC,GCJ5C,CAAA,ADII,EAAuD,KAAvD,EAAqE,+BCJzE,CAAA;ALKY,ACAJ,ACAA,ACAA,ACAA,SJAI,ACAC,ACAA,ACAA,ACAA,EHAL,CCAA,ACAA,EFAU,CCAA,ACAC,KCAX,CJAI,CCAc,CAAC,ACAD,ACAC,ACAF,CJAgB,AEAd,ACAC,EHAhB,AIAJ,UHAU,CAAuB,ACAvB,ACAC,CDAsB,ACAC,WAAvB,CAAX,CDAU,CAAV,EDAU,CAAV;AIJR,ALKY,ACCP,ACDG,ACCH,ACDG,ICLR,KLKY,AEAC,AEAA,GFAL,GGLR,AHKkB,GGLlB,ALKY,GAAsB,EAAtB,AEAc,CAAC,CGL3B,CAAA,ADKQ,GAAyB,OAAzB,CFAU,CAAuB,aGLzC,CAAA,AHKkB,CAAV;AFEA,AEDH,AEAG,SJCK,AIDA,KJCL,GAAa,KAAb,EIDA,GAAuB,IAAvB;ACLR,ALOK,ACAD,AEAA,ACDI,EHCJ,AEAA,EEPJ,KDMa,EDCT,CAAA,KEPJ,GAAA,CFOI,CFAA,AEAA,CFAA,EGDI,ECNR,CAAA,AFOI,ACD4B,GDC5B,CFAA,CAAA,AGDI,MHCJ,EEAO,CFAP,KEAA,EAAqB,GFAd,GIPX,CAAA,EAGA,AJII,EAAqB;AAArB,ACAA,ACCI,ACDH,EFAD,MDAA,AECQ,KFDR,AECa,GFDb,AECgB,IFDhB,ECAA,ACCsB,CDDtB,ACCuB,QAAP,CDDhB,CAAA,ACCI,MDDJ,GAAA,UAAO,MAAP,EAAqB;AFCrB,AEAI,ACCA,EHDJ,MAAA,AEAQ,CFAR,AGCS,GAAL,CAAS,EDDE,GFAf,AEAkB,CFAlB,GGCI,EDDoB,CAAC,ACCF,KAAK,CAAC,IDDX,CFAlB,CEAI,EFAJ,AGCuB,EAAnB,QHDc,GAAlB,EAAgC;AKJpC,ALKQ,ACDA,ACCA,ACCH,ACFD,EAAA,CDDA,CEHA,IJIQ,ACCA,CFAC,CKLH,GAAG,ADIT,CAAA,CHAe,EIJF,CLKT,ACDc,ACCA,CFAC,EEAE,CAAjB,CFAA,AIDJ,CJCwB,ACDA,AGAxB,CCJa,AJIY,CIJZ,CLKT,IIDJ,CCJS,CAAW,CDIpB,CHAkB,EAAd,CIJK,CAAb,EAEA,KDEI;AJEI,ACDA,ACCA,AEDA,IJCA,GAAG,CAAC,AEAA,CDDC,EAAL,AGAO,CHAC,EDCR,CAAW,CIDC,GJCZ,AEAe,EDDf,CCCgB,CAAhB,CDDkB,EAAlB,CGAA;ACFR,ALIQ,ACDA,ACCA,ACAR,ACDK,GAFD,CCDA,ALII,ACDA,ACCA,KGJC,AFIT,EHAe,ACDA,ACCA,CGJH,ALII,ACDA,ACCA,GFAR,CKJQ,ALII,EGApB,CFDQ,ACCA,CDDgB,ACCA,OGJR,ALIR,CKJQ,EJGQ,ACCA,GAAA,CDDA,CCCG,CDDC,CIHhB,EAAZ;AACA,ALIK,ACDO,ACCA,ACbZ,CAAA,EHSI,AGTJ,CESI,MJGY,ACCD,GAAG,CAAC,EDDG,GAAG,CIHL,CHIL,EGJQ,IAAI,AJGM,CAAC,ACCH,OAAnB,EAA2B,IDDd,CAAuB,IAAvB,CAAb,EIHe,CAAA,oBAAJ,EAAvB;AACA,AJGY,ACCI,AEDZ,EAAA,ECHA,IHIY,EDDA,GGAZ,CAAA,IHAoB,ACCE,GGJL,AJGM,EGAvB,CCHoB,ADGpB,ICHwB,CJGO,CAAC,CGAhC,GAAA,SHAuB,CAAuB,EGA9C,EHAuB,CAAf,KIHgB,CAAA,oBAAJ,EAAxB,EAEA;ALEI,ACAQ,ACCC,ACfA,ACcL,EJAJ,KEDQ,ACbC,CHcT,AGdS,CHcT,CCAY,CGAD,EFEC,GEFI,CDdP,CHcT,ACAoB,CDApB,CGdS,CFcc,QAAQ,AEdtB,CFcuB,CGA5B,OJAJ,GAAA,ECAuB,CAAuB,GAAvB,CAAf,GDAY,GAApB,EAAkC;AKDtC,ALEQ,ACAI,ACEI,AEFX,GAFD,GCAE,AJEM,CIFL,CLEK,AEEI,IDFE,CDAD,ACAE,GDAC,GEEO,EFFF,CCAb,EIFZ,CAAyB,AJEM,IAAI,CIFnC,ALEoB,ACAgB,CDAD,MCAJ,CDAX,CAAuB,ACA/B,GDAQ,CAAZ;AKDR,ALEQ,ACAI,ACEC,MGJP,AJEM,CIFL,ELEM,KCAO,CAAC,GDAb,CAAe,KKFvB,AJEY,CIFa,ALEjB,CAAsB,CCAG,IDAzB,ACA6B,CAAC,CDAF,CAA5B,KCAyB,EIFjC,KJEoD,OAAnB,GAA6B,OAA7B,GAAuC,QAA5D;AIDZ,ALEQ,ACAI,ACEH,AEFL,EAAA,EJAI,CELA,CGGF,AJEM,CIFL,ILEQ,CAAC,CIAZ,CHAgB,AGAhB,CJAI,ACAa,CDAA,OIAjB,CCFJ,AJEY,AGAR,CCFqB,EJEQ,EDAzB,ECA6B,CAAC,AGAlC,GAAA,IHA6B,EAArB,CIFZ,GAEA,EDAI;AJCC,AEEG,AEFA,GJJJ,MEMS,EEFE,CFEP,CAAS,GEFG,MFEZ,GAAmB,QEFnB,EFE6B,CAAC,QAAX,EAAnB;AGDR,AJDY,ACGJ,AEFH,GAFD,CCEA,EJDQ,GCGC,EDHG,CAAC,ACGT,CGFK,AHEI,CDHL,CAAQ,CICJ,KJDJ,CAAe,ACGnB,EGFgB,CAAC,AHEE,GDHf,QCG0B,CAAC,CGFvB,CAAuB,MHEZ,EAAnB,OGFQ,CAAhB;AAEA,ALFI,AEGI,EFHJ,EEGI,IFHJ,CKEK,ALFL,CKEM,CHCK,CAAC,GAAR,CAAY,EFHhB,CAAA,OKEJ,AHCQ,CGDmB,MLFvB,CKEJ,EAAmC,ALF/B,UKEgC,CAAD,CLF/B,CKEuC;AACvC,ALHA,ACAQ,ACKP,AEHD,ECCA,ADDA,CCCC,AHdD,CGcE,EJHM,EDAR,ICAc,CDAd,ACAe,AGEf,CAAA,EJFA,EKGA,CJHQ,CDAR,ACAsB,CIEiB,CAGvC,CDHA,CAAA,IHFQ,IGER,GAAA,YAAA;AHDQ,AGEJ,MHFI,KGEG,CHFG,CAAC,GGEC,GHFR,CAAc,QAAd,IGEJ;ACGJ,ALLI,ACCC,ACIT,AEFK,GAFD,EHVI,CIcA,GLLK,AEKb,CGAY,GAAG,KLLP,CAAe,EKKA,CAAC,ILLhB,CAAuB,EEK/B,MGAe,CAAuB,CLLP,GAAA,EAAG,CKKnB,CAAX;AACA,ALNgC,ACG/B,ACvBL,CAAA,EDQI,ACRJ,GG0BQ,KAAK,ELNuB,CKMpB,ELNuB,CAAC,KKMhB,CAAC,ALNW,CAAW,KAAX,CAAA,MKMpB,CAAuB,QAAvB,CAAZ;AACA,ALPgD,AIIhD,EAAA,GJJI,CKOA,IAAI,GAAG,ADHX,CAAA,OCGmB,CAAC,CDHpB,CAAA,OAAA,GAAA,CCGW,CAAuB,OAAvB,CAAX,EDHA;ACIA,ALPI,ACGR,ACxBa,AEyBL,IJJA,EKOA,CH5BK,CAAA,CDwBb,EIIa,ALPE,AIIA,CJJC,EKOA,ADHD,CJJP,CAAY,IIIL,CAAG,CCGM,CAAC,CLPjB,EIIe,EFzBV,CDwBb,ECxBa,GEyBK,ECGF,ADHD,CCGwB,CDHN,OCGjB,CAAZ,CAPuC,CAQvC,GH7BS,EEyBE,EAAkB,MAAlB,CAA4B,KAAK,OAAL,OAAmB,OAAnB,GAA6B,QAA7B,GAAwC,QAApE,EAA4E,OAA5E,EAA4E,MAA5E,CAAoF,KAAK,OAAL,EAApF,EAAkG,WAAlG,EAAkG,MAAlG,CAA8G,KAAK,QAAL,EAA9G,CAAP;AJHH,ACtBL,AG0BK,CH1BL,EDmBI,ACnBJ,AGwBI;ACMA,MAAI,WAAW,GAAG,IAAI,aAAA,CAAA,WAAJ,CACd,IAAI,CAAC,KADS,EAEd,QAAQ,CAAC,KAAK,CAAC,KAAP,CAFM,EAGd,IAAI,CAAC,KAHS,EAId,KAAK,CAAC,KAJQ,CAAlB,CATuC,CAevC;ALbA,ACvBS,AG2Bb,EJJI,KCvBS,CDuBT,ACvBS,CDuBT,AIIJ,SJJI,CAAA,CIIJ,QH3Ba,CDuBT,ECvBS,CDuBT,UAAW,OAAX,EAA+B,ACvBtB;AIqCT,ALbI,AI3BR,CAAA,CCwCI,CDxCJ,KCwCU,CAAC,ALbE,UKaT,CAAkB,CLbd,CAAkB,IAAlB,CAAuB,IKa3B,GLbI;AKeP,ALdO,CKJR,GLIQ,OAAO,CAAC,GAAR,CAAY,gBAAZ;AI5BK,OAAA,CAAA,WAAA,GAAA,WAAA;AJ6BL,QAAI,OAAO,CAAC,OAAR,OAAsB,OAA1B,EAAmC;AAC/B,WAAK,KAAL,IAAc,OAAO,CAAC,QAAR,EAAd;AACH,KAFD,MAGI;AACA,WAAK,KAAL,IAAc,OAAO,CAAC,QAAR,EAAd;AACH;;AACD,SAAK,cAAL;AACH,GAVD;;AAWA,EAAA,MAAA,CAAA,SAAA,CAAA,UAAA,GAAA,YAAA;AACI,WAAO,KAAK,YAAZ;AACH,GAFD;;AAIA,EAAA,MAAA,CAAA,SAAA,CAAA,QAAA,GAAA,YAAA;AACI,WAAO,KAAK,KAAZ;AACH,GAFD;;AAKJ,SAAA,MAAA;AAzCA,CAAA,EAAA;;AAAa,OAAA,CAAA,MAAA,GAAA,MAAA","file":"app.c61986b1.js","sourceRoot":"..","sourcesContent":["import { IObserver } from \"../interfaces/observer\";\r\nimport { ISubject } from \"../interfaces/subject\";\r\nimport { Transaction } from \"./transaction\";\r\n\r\n\r\nexport class Caisse implements ISubject{\r\n    private solde : number;\r\n    private transactions : Transaction[]=[];\r\n    private observers:IObserver[]=[];\r\n    constructor(solde : number) {\r\n        this.solde = solde;\r\n    }\r\n    subscribeObserver(obs: IObserver) {\r\n        this.observers.push(obs);\r\n        obs.update(this)\r\n        console.log('subscribe');\r\n    }\r\n    unSubscribeObserver(obs: IObserver) {\r\n        let index = this.observers.indexOf(obs)\r\n        this.observers.splice(index,1)\r\n        console.log(('unsubscribe'));\r\n    }\r\n    notifyObserver() {\r\n        this.observers.forEach(obs=>obs.update(this))\r\n        console.log('notify');\r\n    }\r\n    addTransac(transac: Transaction){\r\n        this.transactions.push(transac);\r\n        console.log('addtransaction');\r\n        if (transac.getType() === 'debit') {\r\n            this.solde -= transac.getSomme();\r\n        }\r\n        else{\r\n            this.solde += transac.getSomme();\r\n        }\r\n        this.notifyObserver()\r\n    }\r\n    getTransac(){\r\n        return this.transactions;\r\n    }\r\n    \r\n    getSolde(){\r\n        return this.solde;\r\n    }\r\n    \r\n   \r\n}","import { IObserver } from \"../interfaces/observer\";\r\nimport { Caisse } from \"./caisse\";\r\n\r\nexport class listeTransactionView implements IObserver {\r\n    private ul: HTMLUListElement;\r\n  \r\n    constructor() {\r\n        this.ul = document.querySelector('.ulListeTransac')\r\n      \r\n    }\r\n\r\n    update(caisse: Caisse) {\r\n        let transac = caisse.getTransac()\r\n        this.ul.innerHTML=''\r\n        transac.forEach(trsc => {\r\n            let liHtml = document.createElement('li');\r\n            let headHtml = document.createElement('h4');\r\n            let paraHtml = document.createElement('p');\r\n            liHtml.className = trsc.getType()\r\n            headHtml.innerText = trsc.getType() === 'debit' ? 'Debit' : 'Credit';\r\n            paraHtml.innerHTML = trsc.setText()\r\n            this.ul.append(liHtml)\r\n            liHtml.append(headHtml)\r\n            liHtml.append(paraHtml)\r\n        })\r\n\r\n    }\r\n}","import { IObserver } from \"../interfaces/observer\"\r\nimport { Caisse } from \"./caisse\"\r\n\r\nexport class nombreDeTransactions implements IObserver {\r\n    private td1:HTMLTableColElement\r\n    private td2:HTMLTableColElement\r\n    constructor() {\r\n        this.td1= document.querySelector('#countDebit')\r\n        this.td2= document.querySelector('#countCredit')\r\n    }\r\n\r\n    update(caisse: Caisse) {\r\n        let transac = caisse.getTransac()\r\n        let totaldebit = 0\r\n        let totalcredit=0\r\n        transac.forEach(trs=>{\r\n            if(trs.getType()==='debit'){\r\n                totaldebit++;\r\n            }\r\n            else{\r\n                totalcredit++;\r\n            }\r\n        })\r\n        this.td1.innerText=totaldebit.toString();\r\n        this.td2.innerText=totalcredit.toString();\r\n        console.log(totaldebit);\r\n        \r\n    }\r\n}","import { IObserver } from \"../interfaces/observer\"\r\nimport { Caisse } from \"./caisse\"\r\n\r\nexport class soldeView implements IObserver {\r\n    private div:HTMLDivElement\r\n    \r\n    constructor() {\r\n        this.div = document.querySelector('#divSolde')\r\n      \r\n    }\r\n\r\n    update(caisse: Caisse) {\r\n        let solde = caisse.getSolde()\r\n        this.div.innerHTML=solde.toString()\r\n    }\r\n}","export class Transaction {\r\n    public nomPersonne:string;\r\n    public sommeTtransaction : number;\r\n    public typeTransaction : string;\r\n    public motifTransaction : string;\r\n\r\n    constructor(nom:string,montant : number,type : string, motif : string) {\r\n        this.nomPersonne=nom;\r\n        this.sommeTtransaction = montant;\r\n        this.typeTransaction = type;\r\n        this.motifTransaction = motif;\r\n    }\r\n    getName(){\r\n        return this.nomPersonne;\r\n    }\r\n\r\n    getType(){\r\n        return this.typeTransaction;\r\n    }\r\n\r\n    getSomme(){\r\n        return this.sommeTtransaction;\r\n    }\r\n\r\n    getMotif(){\r\n        return this.motifTransaction;\r\n    }\r\n    setText(){\r\n        return `${this.getSomme()} a été ${this.getType() === 'debit' ? 'retiré' : 'déposé'} par ${this.getName()} suite a ${this.getMotif()}`;\r\n    }\r\n}\r\n\r\n","import { Caisse } from \"./src/classes/caisse\";\r\nimport { listeTransactionView } from \"./src/classes/listeTransactionView\";\r\nimport { nombreDeTransactions } from \"./src/classes/nombreDeTransactionsView\";\r\nimport { soldeView } from \"./src/classes/soldeView\";\r\nimport { Transaction } from \"./src/classes/transaction\";\r\n\r\n\r\n//instanciation de la caisse(subject)\r\nlet caisse = new Caisse(10000);\r\n\r\n//instanciation des views(observers)\r\nlet solde = new soldeView();\r\nlet listeTransaction = new listeTransactionView();\r\nlet nombreTransaction = new nombreDeTransactions();\r\n\r\n//inscription des views à la caisse\r\ncaisse.subscribeObserver(solde);\r\ncaisse.subscribeObserver(listeTransaction);\r\ncaisse.subscribeObserver(nombreTransaction)\r\n\r\n//Déclaration et Ecoute de l'événement sur le bouton ADD\r\n\r\nlet buttonADD = document.querySelector('#buttonSubmit') as HTMLButtonElement;\r\n\r\nbuttonADD.addEventListener('click',(e:Event)=>{\r\n    e.preventDefault();\r\n\r\n    //déclaration des différents champs du formulaire\r\n    let name = document.querySelector('#name') as HTMLInputElement;\r\n    let somme = document.querySelector('#somme') as HTMLButtonElement;\r\n    let type = document.querySelector('#type') as HTMLSelectElement;\r\n    let motif = document.querySelector('#motif') as HTMLInputElement;\r\n    //instanciation de la transaction\r\n    let transaction = new Transaction(\r\n        name.value,\r\n        parseInt(somme.value),\r\n        type.value,\r\n        motif.value\r\n        )\r\n    //  ajout de la transaction dans la caisse\r\n    caisse.addTransac(transaction);\r\n   \r\n})\r\n\r\n"]}