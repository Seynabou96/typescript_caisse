{"version":3,"sources":["src/classes/caisse.ts","src/classes/etatCompteView.ts","src/classes/listeTransactionView.ts","src/classes/nombreDeTransactionsView.ts","src/classes/soldeView.ts","src/classes/transaction.ts","app.ts"],"names":[],"mappings":";;;;;;AMAA,IAAA,QAAA,GAAA,OAAA,CAAA,sBAAA,CAAA;ANKA,ACFA,ACAA,ACAA,ACAA,ACHA,ILKA,ACFA,ACAA,ACAA,ACAA,ACHA,MLKA,GIFA,CHAA,CIHA,SHGA,ACAA;AGFA,ANIA,ACFA,ACAA,ACAA,ACAA,ACHA,ICCA,gBAAA,GAAA,OAAA,CAAA,8BAAA,CAAA;ANIA,ACFA,ACAA,ACAA,ACAA,ACHA,YLKA,ACFA,ACAA,ACAA,ACAA,ACHA;ACEA,ANOI,ACHA,ACAA,ACAA,ACAA,ACAA,ICJJ,ONOI,ACHA,ACAA,ACAA,ACAA,ACAA,MLGA,CAAY,EIHZ,CHAA,CIAA,CLGA,AIHA,ACAY,CJAZ,CDG0B,CMP9B,ADII,EAAuB,CCJ3B,EJII,ACAA,GDAA,ACAA,CEAA,CCJJ,CAAA,ADI4C,IAAxC,EAAuD,KAAvD,EAAqE,uBCJzE,CAAA;ANKY,ACAJ,ACAA,ACAA,ACAA,ACAA,SLAI,ACAC,ACAA,ACAA,ACAA,ACAA,EHAL,CDAA,AEAA,ACAA,EFAU,CDAC,AEAD,ACAC,KCAX,CLAI,CEAc,CDAC,ACAA,ACAD,ACAC,ACAF,CLAgB,ACAb,AEAD,ACAC,EJAhB,AKAJ,UHAU,CDAC,ACAsB,ACAvB,ACAC,CHAuB,AEAD,ACAC,WAAvB,CAAX,CHAW,AEAD,CFAV,AEAA,EDAU,CAAV;AIJR,ANKY,ACAP,ACCA,ACDG,ACCH,ACDG,ICLR,KNKY,AGAC,AEAA,GFAL,GAAU,GHAN,GAAsB,EAAtB,AGAc,CAAC,EEAnB,GAAyB,CCLjC,GAAA,GDKQ,CFAU,CAAuB,EGLzC,CAAA,WHKkB,CAAV,4BGLR,CAAA;ANOQ,AGDH,AEAG,SLCK,AKDA,KLCL,GAAa,KAAb,EKDA,GAAuB,IAAvB;ACLR,ANOK,ACDD,ACCA,AEAA,ACDI,EJAJ,ACCA,AEAA,EEPJ,KDMa,EDCT,CHDA,AGCA,CHDA,EKNJ,GAAA,GFOI,CHDA,ACCA,AEAA,CHDA,ACCA,EIPJ,ADMQ,CCNR,EFOI,ACD4B,CJA5B,EGCA,CHDA,ACCA,CAAA,AGDI,MHCJ,EEAO,CHDA,ACCP,KEAA,CHDA,CGCqB,CHDA,CKNzB,CAAA,AJOW,MAAP,EAAqB;ADAjB,ACAJ,ACAA,ACCI,ACDH,EFAD,MDAA,AECQ,CHDC,GAAL,CAAS,ACAb,AECa,GFDb,AECgB,IFDhB,EDAI,AEAJ,ACCsB,CDDtB,ACCuB,EHDA,MGCP,CHDZ,AEAJ,CAAA,ACCI,MDDJ,GAAA,UAAO,MAAP,EAAqB;AGNzB,ANOI,ACAI,AEAA,ACCA,EJDJ,EMPJ,INOI,ACAQ,AEAA,CHAR,AICS,GAAL,CHDS,AGCA,EDDE,CFAC,CKPpB,CNOI,AGAkB,CHAlB,CMPJ,ELO0B,AGClB,CHDmB,CEAC,CAAC,ACCF,EER3B,CAAA,EFQgC,CHDZ,AGCa,EHDzB,EEAc,CHAlB,CGAI,EHAJ,AICuB,EAAnB,QJDc,GAAlB,EAAgC,CMPpC,CAAA,EAGA;ANKQ,AEDA,ACCA,ACCH,ACFD,EAAA,CDDA,KFCQ,ACCA,CHAC,IKDT,CAAA,CHAe,GFCX,AEDc,ACCA,CHAC,EGAE,CAAjB,CHAA,AKDJ,CLCwB,AEDA,AGAxB,CHAyB,EFCrB,IKDJ,GAAA,CHAkB,EAAd,SGAJ;ALEI,ACDA,ACAA,ACCA,AEDA,ILCA,GAAG,CAAC,ACDD,AECC,CDDC,EAAL,AGAO,CHAC,CDAA,CDCR,CAAW,CCDF,AIAG,CJAZ,EDCA,ACDW,AECI,EDDf,CCCgB,CAAhB,CDDkB,EAAlB,CGAA;ACJR,ANMQ,ACDI,ACAJ,ACCA,ACAR,ACDK,GAFD,CCHA,ANMI,AEDA,ACCA,KCAR,CENU,CNMK,ACDE,ACAF,ACCA,CHAC,AEDA,ACCA,CGNH,CLKD,CDCJ,ACDa,CDCD,CMNH,CFMjB,CFDQ,ACCA,CDDgB,ACCA,IFDZ,CKLK,CAAA,CNMT,ACDuB,GCAP,ACCA,EGNX,CAAW,AHMA,CFDZ,ACAY,CCCG,CDDC,EILf,CAAb,EAEA;ANKK,ACDO,ACAA,ACCA,ACbZ,CAAA,EJSI,AITJ,OFYgB,ACCD,CFDE,EECC,CFDN,AECO,CFDE,CCAC,GAAG,ECCV,GFDH,GAAmB,ACAE,CAAC,ACCH,OAAnB,EAA2B,GFD3B,CCAa,CAAuB,IAAvB,CAAb;AIHZ,ALIS,ACAG,ACCI,AEDZ,EAAA,ECJA,CLCI,GEIQ,CGLP,CJIO,CDCJ,CKLA,CDIR,CAAA,ECJY,EJIQ,ACCE,GDDC,EGAvB,CAAA,GCJY,CAAA,CJImB,CAAC,CGAhC,GAAA,GCJQ,EAAZ,IJI2B,CAAuB,EGA9C,EHAuB,CAAf;AIHZ,ANII,ACCQ,ACDA,ACCC,ACfA,ACcL,ELAJ,EMJA,GHGQ,ACbC,CJcT,AIdS,CJcT,CEAY,CDCC,AIDF,EFEC,CFDJ,CAAS,CIDD,CDdP,CJcT,AEAoB,CFApB,CMJgB,AFVP,CFcc,EIJJ,CLKX,GKLe,ALKI,ECDI,AEdtB,CFcuB,CGA5B,IJCI,GDDR,GAAA,EEAuB,CAAuB,GAAvB,CAAf,CIJe,CAAA,CNIH,GAApB,EAAkC,cMJf,EAAvB;AACA,ANIQ,ACCI,ACDA,ACEI,AEFX,GAFD,CCFA,EJIQ,EFAA,AGEI,GFDC,CCDC,CFAD,AEAE,CDCP,CAAS,CDDD,GGEO,EGNN,ANII,CEAb,EIJY,ALKZ,CCDmB,EDCA,CKLH,CJIO,CFAf,AEAgB,CFAD,MCCvB,ACDmB,CFAX,CAAuB,AEA/B,GFAQ,CAAZ,WMJoB,CAAA,oBAAJ,EAAxB;AACA,ANIQ,ACCC,ACDG,ACEC,IGNT,EJIQ,EIJJ,CNIK,EMJF,GJIS,CIJL,AJIM,GFAb,CAAe,KEAX,CFAJ,CAAsB,CEAG,IIJlB,ANIP,AEA6B,CIJtB,AJIuB,CFAF,CAA5B,KEAyB,GIJtB,EAAX,EAEA,AJEoD,OAAnB,GAA6B,OAA7B,GAAuC,QAA5D;AFCJ,ACCH,ACDO,ACEH,AEFL,EAAA,CJVA,CDUI,CGLA,CDKI,KFAG,CAAC,CKAZ,CHAgB,AGAhB,CLAI,AEAa,CFAA,OKAjB,CHAQ,AGAR,GHA6B,EFAzB,EEA6B,CAAC,AGAlC,GAAA,IHA6B,EAArB,MGAR;ACFJ,ANGK,AGEG,AEFA,GLJJ,GMCE,CAAC,EHKM,EEFE,CFEP,CAAS,GEFG,MFEZ,EGLR,CAAyB,AHKE,KGL3B,GDGQ,EFE6B,CAAC,QAAX,EAAnB;AGJR,ALGA,ACDY,ACGJ,AEFH,GAFD,GCDE,AJEM,CIFL,ELGP,AEEa,EDHG,CAAC,ACGT,CAAS,CDHL,CAAQ,IDCpB,ECDY,CAAe,ACGnB,EGLR,CAAyB,AHKE,GDHf,QCG0B,CAAC,IGLvC,IHK2B,EAAnB;AGJR,ANEI,ACnBJ,AEsBQ,CFtBR,CDmBI,CCnBJ,CEsBQ,EGLF,CAAC,CNEH,CAAA,EGGW,CAAC,GAAR,CAAY,EHHhB,CAAA,KMFJ,CAAyB,CHKjB,OHHJ,GAAA,MMFJ,MNEI;AMDJ,ANCI,AEAQ,ACKP,AEHD,EAAA,CFbA,GGUE,AJCM,CIDL,CNCH,IEAc,CFAd,AEAe,AGEf,CAAA,ELFA,GEAQ,CFAR,AEAsB,GGEtB,CCHJ,ADGI,CCHqB,GJCb,CIDZ,GAEA,ADCI,GAAA,YAAA;AJrBS,ACoBD,AGEJ,MHFI,CDpBC,CAAA,GIsBE,CHFG,CAAC,GGEC,EJtBP,CCoBD,CAAc,CDpBb,OCoBD,GDpBC,CIsBL;ACAR,ANFQ,AECC,ACIT,AEFK,GAFD,CCCA,CJXI,IFSK,AGKb,IGHa,GAAG,ENFR,CAAe,KMEC,CAAC,CNFjB,CAAuB,EGK/B,QHL+B,CMEf,CAAuB,CNFR,EAAG,YMElB,CAAhB;AAEA,ANJoC,AEG/B,ACvBL,CAAA,EDQI,ACRJ,MGwBS,CAAC,GNJ0B,GAAG,CAAC,MAAJ,CAAW,EMI/C,CAA2B,ENJS,CAAA,IMIpC,EAAmC,UAAC,CAAD,EAAQ;AACvC,ANLgD,AKIhD,ECCA,ADDA,CCCC,CAAC,CNLE,QKIJ,CAAA,ICCA,GADuC,CAGvC,CDHA,CAAA,OAAA,GAAA,YAAA;ALHI,AEGR,ACxBa,AEyBL,ILJA,GGrBK,CAAA,CDwBb,EFHe,AKIA,CLJC,EKID,CLJP,CAAY,IKIL,CAAG,GLJV,EKIe,EFzBV,CDwBb,ECxBa,GEyBK,EAAH,EAAkB,aFzBpB,EEyBE,EAAkB,MAAlB,CAA4B,KAAK,OAAL,OAAmB,OAAnB,GAA6B,QAA7B,GAAwC,QAApE,EAA4E,OAA5E,EAA4E,MAA5E,CAAoF,KAAK,OAAL,EAApF,EAAkG,WAAlG,EAAkG,MAAlG,CAA8G,KAAK,QAAL,EAA9G,CAAP;ACGJ,ANNC,AEtBL,AG0BK,CH1BL,EFmBI,AEnBJ,AGwBI,GCII,IAAI,GAAG,QAAQ,CAAC,aAAT,CAAuB,OAAvB,CAAX;AACA,MAAI,KAAK,GAAG,QAAQ,CAAC,aAAT,CAAuB,QAAvB,CAAZ;AACA,ANPA,AEvBS,AG2Bb,ELJI,IMOI,CJ9BK,CFuBT,AEvBS,CFuBT,AKIJ,CCGY,GAAG,KNPX,CAAA,CKIJ,CCGuB,CAAC,MJ9BX,CFuBT,EEvBS,CFuBT,GMOW,CAAuB,MNPvB,CMOA,CAAX,KNPA,EAA+B,AEvBtB;AI+BT,ANPI,AK3BR,CAAA,EAAA,GCkCQ,GNPK,EMOA,GAAG,ONPR,CMOgB,ANPE,CMOD,GNPjB,CAAuB,OAAvB,EMOQ,CAAuB,QAAvB,CAAZ,CAPuC,CAQvC;ANPI,IAAA,OAAO,CAAC,GAAR,CAAY,gBAAZ;AMQJ,ADpCS,MCoCL,CDpCK,CAAA,SCoCM,EDpCN,CCoCS,EDpCT,ECoCa,SDpCb,ICoCa,CAAA,WAAJ,CACd,IAAI,CAAC,KADS,EAEd,QAAQ,CAAC,KAAK,CAAC,KAAP,CAFM,EAGd,IAAI,CAAC,KAHS,EAId,KAAK,CAAC,KAJQ,CAAlB,CATuC,CAevC;ANbI,QAAI,OAAO,CAAC,OAAR,OAAsB,OAA1B,EAAmC;AMcvC,ANbQ,EMaR,MAAM,CAAC,ENbM,KAAL,GMaR,CAAkB,ANbI,OAAO,CAAC,GMa9B,KNbsB,EAAd;AMeX,ANdQ,CMJT,INEQ,MAGI;AACA,WAAK,KAAL,IAAc,OAAO,CAAC,QAAR,EAAd;AACH;;AACD,SAAK,cAAL;AACH,GAVD;;AAWA,EAAA,MAAA,CAAA,SAAA,CAAA,UAAA,GAAA,YAAA;AACI,WAAO,KAAK,YAAZ;AACH,GAFD;;AAIA,EAAA,MAAA,CAAA,SAAA,CAAA,QAAA,GAAA,YAAA;AACI,WAAO,KAAK,KAAZ;AACH,GAFD;;AAKJ,SAAA,MAAA;AAzCA,CAAA,EAAA;;AAAa,OAAA,CAAA,MAAA,GAAA,MAAA","file":"app.c61986b1.js","sourceRoot":"..","sourcesContent":["import { IObserver } from \"../interfaces/observer\";\r\nimport { ISubject } from \"../interfaces/subject\";\r\nimport { Transaction } from \"./transaction\";\r\n\r\n\r\nexport class Caisse implements ISubject{\r\n    private solde : number;\r\n    private transactions : Transaction[]=[];\r\n    private observers:IObserver[]=[];\r\n    constructor(solde : number) {\r\n        this.solde = solde;\r\n    }\r\n    subscribeObserver(obs: IObserver) {\r\n        this.observers.push(obs);\r\n        obs.update(this)\r\n        console.log('subscribe');\r\n    }\r\n    unSubscribeObserver(obs: IObserver) {\r\n        let index = this.observers.indexOf(obs)\r\n        this.observers.splice(index,1)\r\n        console.log(('unsubscribe'));\r\n    }\r\n    notifyObserver() {\r\n        this.observers.forEach(obs=>obs.update(this))\r\n        console.log('notify');\r\n    }\r\n    addTransac(transac: Transaction){\r\n        this.transactions.push(transac);\r\n        console.log('addtransaction');\r\n        if (transac.getType() === 'debit') {\r\n            this.solde -= transac.getSomme();\r\n        }\r\n        else{\r\n            this.solde += transac.getSomme();\r\n        }\r\n        this.notifyObserver()\r\n    }\r\n    getTransac(){\r\n        return this.transactions;\r\n    }\r\n    \r\n    getSolde(){\r\n        return this.solde;\r\n    }\r\n    \r\n   \r\n}","import { IObserver } from \"../interfaces/observer\"\r\nimport { Caisse } from \"./caisse\"\r\n\r\nexport class etatCompte implements IObserver {\r\n    private div:HTMLDivElement\r\n\r\n    constructor() {\r\n        this.div = document.querySelector('#etatCompte')\r\n    }\r\n\r\n    update(caisse: Caisse) {\r\n        this.div.className='debit'\r\n        let solde = caisse.getSolde()\r\n        if(solde<0){\r\n            this.div.className='debit'\r\n            this.div.innerText='A découvert'\r\n        }\r\n        else{\r\n            this.div.className='credit'\r\n            this.div.innerText='A crédit'\r\n        }\r\n    }\r\n}","import { IObserver } from \"../interfaces/observer\";\r\nimport { Caisse } from \"./caisse\";\r\n\r\nexport class listeTransactionView implements IObserver {\r\n    private ul: HTMLUListElement;\r\n  \r\n    constructor() {\r\n        this.ul = document.querySelector('.ulListeTransac')\r\n      \r\n    }\r\n\r\n    update(caisse: Caisse) {\r\n        let transac = caisse.getTransac()\r\n        this.ul.innerHTML=''\r\n        transac.forEach(trsc => {\r\n            let liHtml = document.createElement('li');\r\n            let headHtml = document.createElement('h4');\r\n            let paraHtml = document.createElement('p');\r\n            liHtml.className = trsc.getType()\r\n            headHtml.innerText = trsc.getType() === 'debit' ? 'Debit' : 'Credit';\r\n            paraHtml.innerHTML = trsc.setText()\r\n            this.ul.append(liHtml)\r\n            liHtml.append(headHtml)\r\n            liHtml.append(paraHtml)\r\n        })\r\n\r\n    }\r\n}","import { IObserver } from \"../interfaces/observer\"\r\nimport { Caisse } from \"./caisse\"\r\n\r\nexport class nombreDeTransactions implements IObserver {\r\n    private td1:HTMLTableColElement\r\n    private td2:HTMLTableColElement\r\n    constructor() {\r\n        this.td1= document.querySelector('#countDebit')\r\n        this.td2= document.querySelector('#countCredit')\r\n    }\r\n\r\n    update(caisse: Caisse) {\r\n        let transac = caisse.getTransac()\r\n        let totaldebit = 0\r\n        let totalcredit=0\r\n        transac.forEach(trs=>{\r\n            if(trs.getType()==='debit'){\r\n                totaldebit++;\r\n            }\r\n            else{\r\n                totalcredit++;\r\n            }\r\n        })\r\n        this.td1.innerText=totaldebit.toString();\r\n        this.td2.innerText=totalcredit.toString();\r\n        console.log(totaldebit);\r\n        \r\n    }\r\n}","import { IObserver } from \"../interfaces/observer\"\r\nimport { Caisse } from \"./caisse\"\r\n\r\nexport class soldeView implements IObserver {\r\n    private div:HTMLDivElement\r\n    \r\n    constructor() {\r\n        this.div = document.querySelector('#divSolde')\r\n      \r\n    }\r\n\r\n    update(caisse: Caisse) {\r\n        let solde = caisse.getSolde()\r\n        this.div.innerHTML=solde.toString()\r\n    }\r\n}","export class Transaction {\r\n    public nomPersonne:string;\r\n    public sommeTtransaction : number;\r\n    public typeTransaction : string;\r\n    public motifTransaction : string;\r\n\r\n    constructor(nom:string,montant : number,type : string, motif : string) {\r\n        this.nomPersonne=nom;\r\n        this.sommeTtransaction = montant;\r\n        this.typeTransaction = type;\r\n        this.motifTransaction = motif;\r\n    }\r\n    getName(){\r\n        return this.nomPersonne;\r\n    }\r\n\r\n    getType(){\r\n        return this.typeTransaction;\r\n    }\r\n\r\n    getSomme(){\r\n        return this.sommeTtransaction;\r\n    }\r\n\r\n    getMotif(){\r\n        return this.motifTransaction;\r\n    }\r\n    setText(){\r\n        return `${this.getSomme()} a été ${this.getType() === 'debit' ? 'retiré' : 'déposé'} par ${this.getName()} suite a ${this.getMotif()}`;\r\n    }\r\n}\r\n\r\n","import { Caisse } from \"./src/classes/caisse\";\r\nimport { etatCompte } from \"./src/classes/etatCompteView\";\r\nimport { listeTransactionView } from \"./src/classes/listeTransactionView\";\r\nimport { nombreDeTransactions } from \"./src/classes/nombreDeTransactionsView\";\r\nimport { soldeView } from \"./src/classes/soldeView\";\r\nimport { Transaction } from \"./src/classes/transaction\";\r\n\r\n\r\n//instanciation de la caisse(subject)\r\nlet caisse = new Caisse(10000);\r\n\r\n//instanciation des views(observers)\r\nlet solde = new soldeView();\r\nlet listeTransaction = new listeTransactionView();\r\nlet nombreTransaction = new nombreDeTransactions();\r\nlet etat = new etatCompte();\r\n\r\n//inscription des views à la caisse\r\ncaisse.subscribeObserver(solde);\r\ncaisse.subscribeObserver(listeTransaction);\r\ncaisse.subscribeObserver(nombreTransaction);\r\ncaisse.subscribeObserver(etat);\r\n\r\n//Déclaration et Ecoute de l'événement sur le bouton ADD\r\n\r\nlet buttonADD = document.querySelector('#buttonSubmit') as HTMLButtonElement;\r\n\r\nbuttonADD.addEventListener('click',(e:Event)=>{\r\n    e.preventDefault();\r\n\r\n    //déclaration des différents champs du formulaire\r\n    let name = document.querySelector('#name') as HTMLInputElement;\r\n    let somme = document.querySelector('#somme') as HTMLButtonElement;\r\n    let type = document.querySelector('#type') as HTMLSelectElement;\r\n    let motif = document.querySelector('#motif') as HTMLInputElement;\r\n    //instanciation de la transaction\r\n    let transaction = new Transaction(\r\n        name.value,\r\n        parseInt(somme.value),\r\n        type.value,\r\n        motif.value\r\n        )\r\n    //  ajout de la transaction dans la caisse\r\n    caisse.addTransac(transaction);\r\n   \r\n})\r\n\r\n"]}